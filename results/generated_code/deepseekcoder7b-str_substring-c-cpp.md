Your code is already in C++. However, if you'd like to stick with the original language (C), here it is. If not, please let me know and I can provide a conversion into C++. The given code works perfectly for Unicode string operations as well because they are built-in methods that handle UTF-8/UTF-16 encoding in GCC C library.

