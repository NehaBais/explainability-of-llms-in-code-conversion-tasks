error[E0432]: unresolved import `libc::struct_stat`
 --> /tmp/granitecode8b-file_size-c-rs.rs:3:5
  |
3 | use libc::struct_stat;
  |     ^^^^^^^^^^^^^^^^^ no `struct_stat` in the root

warning: unused import: `std::fs`
 --> /tmp/granitecode8b-file_size-c-rs.rs:4:5
  |
4 | use std::fs;
  |     ^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
 --> /tmp/granitecode8b-file_size-c-rs.rs:1:1
  |
1 | extern crate libc;
  | ^^^^^^^^^^^^^^^^^^
  |
  = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
 --> /tmp/granitecode8b-file_size-c-rs.rs:2:5
  |
2 | use libc::stat;
  |     ^^^^^^^^^^
  |
  = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
 --> /tmp/granitecode8b-file_size-c-rs.rs:8:24
  |
8 |     let res = unsafe { stat(b"input.txt".as_ptr() as *const _, &mut foo) };
  |                        ^^^^
  |
  = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
  --> /tmp/granitecode8b-file_size-c-rs.rs:18:24
   |
18 |     let res = unsafe { stat(b"/input.txt".as_ptr() as *const _, &mut foo) };
   |                        ^^^^
   |
   = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
  --> /tmp/granitecode8b-file_size-c-rs.rs:13:32
   |
13 |     let file_size = unsafe { (*foo.st_size) as usize };
   |                                ^^^^^^^^^^^
   |
   = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0614]: type `i64` cannot be dereferenced
  --> /tmp/granitecode8b-file_size-c-rs.rs:13:30
   |
13 |     let file_size = unsafe { (*foo.st_size) as usize };
   |                              ^^^^^^^^^^^^^^

error[E0658]: use of unstable library feature 'rustc_private': this crate is being loaded from the sysroot, an unstable location; did you mean to load this crate from crates.io via `Cargo.toml` instead?
  --> /tmp/granitecode8b-file_size-c-rs.rs:23:32
   |
23 |     let file_size = unsafe { (*foo.st_size) as usize };
   |                                ^^^^^^^^^^^
   |
   = note: see issue #27812 <https://github.com/rust-lang/rust/issues/27812> for more information

error[E0614]: type `i64` cannot be dereferenced
  --> /tmp/granitecode8b-file_size-c-rs.rs:23:30
   |
23 |     let file_size = unsafe { (*foo.st_size) as usize };
   |                              ^^^^^^^^^^^^^^

error: aborting due to 9 previous errors; 1 warning emitted

Some errors have detailed explanations: E0432, E0614, E0658.
For more information about an error, try `rustc --explain E0432`.
